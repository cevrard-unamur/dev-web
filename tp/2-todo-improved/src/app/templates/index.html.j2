{% extends "layout.html.j2" %}
{% block head %}
    <title>ToDo - Index</title>
{% endblock %}
{% block body %}
    <div class="row">
        <div class="col-md">
            <p>Tâches<p>
        </div>
    </div>
    <div class="row">
        <div class="col-md">
            <table class="table">
                <thead class="thead-dark">
                    <tr>
                        <th scope="col">Status</th>
                        <th scope="col">Titre</th>
                        <th scope="col">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for task in tasks %}
                        <tr>
                            <td>
                                {% if task.status == 0 %}
                                    <a class="text-secondary" href="status/{{ task.id }}">
                                        <!-- Icone checkbox décoché -->
                                        <svg class="bi bi-square" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M14 1H2a1 1 0 00-1 1v12a1 1 0 001 1h12a1 1 0 001-1V2a1 1 0 00-1-1zM2 0a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V2a2 2 0 00-2-2H2z" clip-rule="evenodd"/>
                                        </svg>
                                    </a>
                                {% else %}
                                    <a class="text-success" href="status/{{ task.id }}">
                                        <!-- Icone checkbox cochée -->
                                        <svg class="bi bi-check-box" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M15.354 2.646a.5.5 0 010 .708l-7 7a.5.5 0 01-.708 0l-3-3a.5.5 0 11.708-.708L8 9.293l6.646-6.647a.5.5 0 01.708 0z" clip-rule="evenodd"/>
                                            <path fill-rule="evenodd" d="M1.5 13A1.5 1.5 0 003 14.5h10a1.5 1.5 0 001.5-1.5V8a.5.5 0 00-1 0v5a.5.5 0 01-.5.5H3a.5.5 0 01-.5-.5V3a.5.5 0 01.5-.5h8a.5.5 0 000-1H3A1.5 1.5 0 001.5 3v10z" clip-rule="evenodd"/>
                                        </svg>
                                    </a>
                                {% endif %}
                            </td>
                            <td>
                                {{ task.title }}
                            </td>
                            <td>
                                <a class="btn btn-outline-info" href="edit/{{ task.id }}">
                                    Editer
                                </a>
                                <a class="btn btn-outline-danger" href="delete/{{ task.id }}">
                                    Supprimer
                                </a>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}