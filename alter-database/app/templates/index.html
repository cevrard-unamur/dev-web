<html>

<head>
<title>Index page</title>
</head>

<body>

  {% if current_user.is_authenticated %}
  <h1>Hi, {{ current_user.username }}!</h1>
  {% endif %}

  {% with messages = get_flashed_messages( with_categories=true, category_filter=['info'] ) %}
  {% if messages %}
  <ul class='flashes'>
    {% for c, m in messages %}
    <li> {{ c }} : {{ m }} </li>
    {% endfor %}
  </ul>
  {% endif %}
  {% endwith %}
  
  
  <h2> This is the Index page </h2>
  <ul>
    <li> <a href="{{ url_for('page_a') }}">Click here to go to page A</a> </li>
    <li> <a href="{{ url_for('page_b') }}">Click here to go to page B</a> </li>
  </ul>
  
  <div>
    Lecture 6 - WTForm, Flask_login, and DataBase <br>
    <a href="{{ url_for('main') }}">Home</a>
    {% if current_user.is_anonymous %} <!-- is going to be True only when the user is not logged in. -->
    <a href="{{ url_for('login') }}">Login</a>
    {% else %}
    <a href="{{ url_for('logout') }}">Logout</a>
    <a href="{{ url_for('drop_message') }}">Drop us a message</a>
    <a href="{{ url_for('show_messages') }}">Show my already stored messages</a>
    {% endif %}
  </div>

</body>

</html>
